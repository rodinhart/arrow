{"version":3,"sources":["ipc/metadata/json.ts"],"names":[],"mappings":"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","file":"json.js","sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\r\n// or more contributor license agreements.  See the NOTICE file\r\n// distributed with this work for additional information\r\n// regarding copyright ownership.  The ASF licenses this file\r\n// to you under the Apache License, Version 2.0 (the\r\n// \"License\"); you may not use this file except in compliance\r\n// with the License.  You may obtain a copy of the License at\r\n//\r\n//   http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing,\r\n// software distributed under the License is distributed on an\r\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n// KIND, either express or implied.  See the License for the\r\n// specific language governing permissions and limitations\r\n// under the License.\r\n\r\nimport { Schema, Field } from '../../schema';\r\nimport {\r\n    DataType, Dictionary, TimeBitWidth,\r\n    Utf8, Binary, Decimal, FixedSizeBinary,\r\n    List, FixedSizeList, Map_, Struct, Union,\r\n    Bool, Null, Int, Float, Date_, Time, Interval, Timestamp, IntBitWidth, Int32, TKeys,\r\n} from '../../type';\r\n\r\nimport { DictionaryBatch, RecordBatch, FieldNode, BufferRegion } from './message';\r\nimport { TimeUnit, Precision, IntervalUnit, UnionMode, DateUnit } from '../../enum';\r\n\r\n/** @ignore */\r\nexport function schemaFromJSON(_schema: any, dictionaries: Map<number, DataType> = new Map()) {\r\n    return new Schema(\r\n        schemaFieldsFromJSON(_schema, dictionaries),\r\n        customMetadataFromJSON(_schema['customMetadata']),\r\n        dictionaries\r\n    );\r\n}\r\n\r\n/** @ignore */\r\nexport function recordBatchFromJSON(b: any) {\r\n    return new RecordBatch(\r\n        b['count'],\r\n        fieldNodesFromJSON(b['columns']),\r\n        buffersFromJSON(b['columns'])\r\n    );\r\n}\r\n\r\n/** @ignore */\r\nexport function dictionaryBatchFromJSON(b: any) {\r\n    return new DictionaryBatch(\r\n        recordBatchFromJSON(b['data']),\r\n        b['id'], b['isDelta']\r\n    );\r\n}\r\n\r\n/** @ignore */\r\nfunction schemaFieldsFromJSON(_schema: any, dictionaries?: Map<number, DataType>) {\r\n    return (_schema['fields'] || []).filter(Boolean).map((f: any) => Field.fromJSON(f, dictionaries));\r\n}\r\n\r\n/** @ignore */\r\nfunction fieldChildrenFromJSON(_field: any, dictionaries?: Map<number, DataType>): Field[] {\r\n    return (_field['children'] || []).filter(Boolean).map((f: any) => Field.fromJSON(f, dictionaries));\r\n}\r\n\r\n/** @ignore */\r\nfunction fieldNodesFromJSON(xs: any[]): FieldNode[] {\r\n    return (xs || []).reduce<FieldNode[]>((fieldNodes, column: any) => [\r\n        ...fieldNodes,\r\n        new FieldNode(\r\n            column['count'],\r\n            nullCountFromJSON(column['VALIDITY'])\r\n        ),\r\n        ...fieldNodesFromJSON(column['children'])\r\n    ], [] as FieldNode[]);\r\n}\r\n\r\n/** @ignore */\r\nfunction buffersFromJSON(xs: any[], buffers: BufferRegion[] = []): BufferRegion[] {\r\n    for (let i = -1, n = (xs || []).length; ++i < n;) {\r\n        const column = xs[i];\r\n        column['VALIDITY'] && buffers.push(new BufferRegion(buffers.length, column['VALIDITY'].length));\r\n        column['TYPE'] && buffers.push(new BufferRegion(buffers.length, column['TYPE'].length));\r\n        column['OFFSET'] && buffers.push(new BufferRegion(buffers.length, column['OFFSET'].length));\r\n        column['DATA'] && buffers.push(new BufferRegion(buffers.length, column['DATA'].length));\r\n        buffers = buffersFromJSON(column['children'], buffers);\r\n    }\r\n    return buffers;\r\n}\r\n\r\n/** @ignore */\r\nfunction nullCountFromJSON(validity: number[]) {\r\n    return (validity || []).reduce((sum, val) => sum + +(val === 0), 0);\r\n}\r\n\r\n/** @ignore */\r\nexport function fieldFromJSON(_field: any, dictionaries?: Map<number, DataType>) {\r\n\r\n    let id: number;\r\n    let keys: TKeys | null;\r\n    let field: Field | void;\r\n    let dictMeta: any;\r\n    let type: DataType<any>;\r\n    let dictType: Dictionary;\r\n\r\n    // If no dictionary encoding\r\n    if (!dictionaries || !(dictMeta = _field['dictionary'])) {\r\n        type = typeFromJSON(_field, fieldChildrenFromJSON(_field, dictionaries));\r\n        field = new Field(_field['name'], type, _field['nullable'], customMetadataFromJSON(_field['customMetadata']));\r\n    }\r\n    // tslint:disable\r\n    // If dictionary encoded and the first time we've seen this dictionary id, decode\r\n    // the data type and child fields, then wrap in a Dictionary type and insert the\r\n    // data type into the dictionary types map.\r\n    else if (!dictionaries.has(id = dictMeta['id'])) {\r\n        // a dictionary index defaults to signed 32 bit int if unspecified\r\n        keys = (keys = dictMeta['indexType']) ? indexTypeFromJSON(keys) as TKeys : new Int32();\r\n        dictionaries.set(id, type = typeFromJSON(_field, fieldChildrenFromJSON(_field, dictionaries)));\r\n        dictType = new Dictionary(type, keys, id, dictMeta['isOrdered']);\r\n        field = new Field(_field['name'], dictType, _field['nullable'], customMetadataFromJSON(_field['customMetadata']));\r\n    }\r\n    // If dictionary encoded, and have already seen this dictionary Id in the schema, then reuse the\r\n    // data type and wrap in a new Dictionary type and field.\r\n    else {\r\n        // a dictionary index defaults to signed 32 bit int if unspecified\r\n        keys = (keys = dictMeta['indexType']) ? indexTypeFromJSON(keys) as TKeys : new Int32();\r\n        dictType = new Dictionary(dictionaries.get(id)!, keys, id, dictMeta['isOrdered']);\r\n        field = new Field(_field['name'], dictType, _field['nullable'], customMetadataFromJSON(_field['customMetadata']));\r\n    }\r\n    return field || null;\r\n}\r\n\r\n/** @ignore */\r\nfunction customMetadataFromJSON(_metadata?: object) {\r\n    return new Map<string, string>(Object.entries(_metadata || {}));\r\n}\r\n\r\n/** @ignore */\r\nfunction indexTypeFromJSON(_type: any) {\r\n    return new Int(_type['isSigned'], _type['bitWidth']);\r\n}\r\n\r\n/** @ignore */\r\nfunction typeFromJSON(f: any, children?: Field[]): DataType<any> {\r\n\r\n    const typeId = f['type']['name'];\r\n\r\n    switch (typeId) {\r\n        case 'NONE':   return new Null();\r\n        case 'null':   return new Null();\r\n        case 'binary': return new Binary();\r\n        case 'utf8':   return new Utf8();\r\n        case 'bool':   return new Bool();\r\n        case 'list':   return new List((children || [])[0]);\r\n        case 'struct': return new Struct(children || []);\r\n        case 'struct_': return new Struct(children || []);\r\n    }\r\n\r\n    switch (typeId) {\r\n        case 'int': {\r\n            const t = f['type'];\r\n            return new Int(t['isSigned'], t['bitWidth'] as IntBitWidth);\r\n        }\r\n        case 'floatingpoint': {\r\n            const t = f['type'];\r\n            return new Float(Precision[t['precision']] as any);\r\n        }\r\n        case 'decimal': {\r\n            const t = f['type'];\r\n            return new Decimal(t['scale'], t['precision']);\r\n        }\r\n        case 'date': {\r\n            const t = f['type'];\r\n            return new Date_(DateUnit[t['unit']] as any);\r\n        }\r\n        case 'time': {\r\n            const t = f['type'];\r\n            return new Time(TimeUnit[t['unit']] as any, t['bitWidth'] as TimeBitWidth);\r\n        }\r\n        case 'timestamp': {\r\n            const t = f['type'];\r\n            return new Timestamp(TimeUnit[t['unit']] as any, t['timezone']);\r\n        }\r\n        case 'interval': {\r\n            const t = f['type'];\r\n            return new Interval(IntervalUnit[t['unit']] as any);\r\n        }\r\n        case 'union': {\r\n            const t = f['type'];\r\n            return new Union(UnionMode[t['mode']] as any, (t['typeIds'] || []), children || []);\r\n        }\r\n        case 'fixedsizebinary': {\r\n            const t = f['type'];\r\n            return new FixedSizeBinary(t['byteWidth']);\r\n        }\r\n        case 'fixedsizelist': {\r\n            const t = f['type'];\r\n            return new FixedSizeList(t['listSize'], (children || [])[0]);\r\n        }\r\n        case 'map': {\r\n            const t = f['type'];\r\n            return new Map_((children || [])[0], t['keysSorted']);\r\n        }\r\n    }\r\n    throw new Error(`Unrecognized type: \"${typeId}\"`);\r\n}\r\n"]}