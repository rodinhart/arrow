{"version":3,"sources":["builder/utf8.ts"],"names":[],"mappings":"AAAA,6DAA6D;AAC7D,+DAA+D;AAC/D,wDAAwD;AACxD,6DAA6D;AAC7D,oDAAoD;AACpD,6DAA6D;AAC7D,6DAA6D;AAC7D,EAAE;AACF,+CAA+C;AAC/C,EAAE;AACF,6DAA6D;AAC7D,8DAA8D;AAC9D,yDAAyD;AACzD,4DAA4D;AAC5D,0DAA0D;AAC1D,qBAAqB;AAGrB,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAE,aAAa,EAAE,MAAM,UAAU,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,UAAU,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAkB,MAAM,YAAY,CAAC;AAElE,cAAc;AACd,MAAM,OAAO,WAAyB,SAAQ,oBAAiC;IAC3E,YAAY,IAAiC;QACzC,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;IACxD,CAAC;IACD,IAAW,UAAU;QACjB,IAAI,IAAI,GAAG,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAChD,OAAO,IAAI,CAAC;IAChB,CAAC;IACM,QAAQ,CAAC,KAAa,EAAE,KAAa;QACxC,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,KAAK,CAAQ,CAAC,CAAC;IAC3D,CAAC;IACD,aAAa;IACH,aAAa,CAAC,OAA4C,EAAE,aAAqB,IAAS,CAAC;CACxG;AAEA,WAAW,CAAC,SAAiB,CAAC,aAAa,GAAI,aAAa,CAAC,SAAiB,CAAC,aAAa,CAAC","file":"utf8.js","sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\r\n// or more contributor license agreements.  See the NOTICE file\r\n// distributed with this work for additional information\r\n// regarding copyright ownership.  The ASF licenses this file\r\n// to you under the Apache License, Version 2.0 (the\r\n// \"License\"); you may not use this file except in compliance\r\n// with the License.  You may obtain a copy of the License at\r\n//\r\n//   http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing,\r\n// software distributed under the License is distributed on an\r\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n// KIND, either express or implied.  See the License for the\r\n// specific language governing permissions and limitations\r\n// under the License.\r\n\r\nimport { Utf8 } from '../type';\r\nimport { encodeUtf8 } from '../util/utf8';\r\nimport { BinaryBuilder } from './binary';\r\nimport { BufferBuilder } from './buffer';\r\nimport { VariableWidthBuilder, BuilderOptions } from '../builder';\r\n\r\n/** @ignore */\r\nexport class Utf8Builder<TNull = any> extends VariableWidthBuilder<Utf8, TNull> {\r\n    constructor(opts: BuilderOptions<Utf8, TNull>) {\r\n        super(opts);\r\n        this._values = new BufferBuilder(new Uint8Array(0));\r\n    }\r\n    public get byteLength(): number {\r\n        let size = this._pendingLength + (this.length * 4);\r\n        this._offsets && (size += this._offsets.byteLength);\r\n        this._values && (size += this._values.byteLength);\r\n        this._nulls && (size += this._nulls.byteLength);\r\n        return size;\r\n    }\r\n    public setValue(index: number, value: string) {\r\n        return super.setValue(index, encodeUtf8(value) as any);\r\n    }\r\n    // @ts-ignore\r\n    protected _flushPending(pending: Map<number, Uint8Array | undefined>, pendingLength: number): void {}\r\n}\r\n\r\n(Utf8Builder.prototype as any)._flushPending = (BinaryBuilder.prototype as any)._flushPending;\r\n"]}