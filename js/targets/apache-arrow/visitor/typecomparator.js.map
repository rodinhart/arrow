{"version":3,"sources":["visitor/typecomparator.ts"],"names":[],"mappings":"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","file":"typecomparator.js","sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\r\n// or more contributor license agreements.  See the NOTICE file\r\n// distributed with this work for additional information\r\n// regarding copyright ownership.  The ASF licenses this file\r\n// to you under the Apache License, Version 2.0 (the\r\n// \"License\"); you may not use this file except in compliance\r\n// with the License.  You may obtain a copy of the License at\r\n//\r\n//   http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing,\r\n// software distributed under the License is distributed on an\r\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n// KIND, either express or implied.  See the License for the\r\n// specific language governing permissions and limitations\r\n// under the License.\r\n\r\nimport { Data } from '../data';\r\nimport { Visitor } from '../visitor';\r\nimport { VectorType } from '../interfaces';\r\nimport { Schema, Field } from '../schema';\r\nimport {\r\n    DataType, Dictionary,\r\n    Bool, Null, Utf8, Binary, Decimal, FixedSizeBinary, List, FixedSizeList, Map_, Struct,\r\n    Float, Float16, Float32, Float64,\r\n    Int, Uint8, Uint16, Uint32, Uint64, Int8, Int16, Int32, Int64,\r\n    Date_, DateDay, DateMillisecond,\r\n    Interval, IntervalDayTime, IntervalYearMonth,\r\n    Time, TimeSecond, TimeMillisecond, TimeMicrosecond, TimeNanosecond,\r\n    Timestamp, TimestampSecond, TimestampMillisecond, TimestampMicrosecond, TimestampNanosecond,\r\n    Union, DenseUnion, SparseUnion,\r\n} from '../type';\r\n\r\n/** @ignore */\r\nexport interface TypeComparator extends Visitor {\r\n    visit<T extends DataType>(type: T, other?: DataType | null): other is T;\r\n    visitMany<T extends DataType>(nodes: T[], others?: DataType[] | null): boolean[];\r\n    getVisitFn<T extends DataType>(node: VectorType<T> |  Data<T> | T): (other?: DataType | null) => other is T;\r\n    visitNull                 <T extends Null>                 (type: T, other?: DataType | null): other is T;\r\n    visitBool                 <T extends Bool>                 (type: T, other?: DataType | null): other is T;\r\n    visitInt                  <T extends Int>                  (type: T, other?: DataType | null): other is T;\r\n    visitInt8                 <T extends Int8>                 (type: T, other?: DataType | null): other is T;\r\n    visitInt16                <T extends Int16>                (type: T, other?: DataType | null): other is T;\r\n    visitInt32                <T extends Int32>                (type: T, other?: DataType | null): other is T;\r\n    visitInt64                <T extends Int64>                (type: T, other?: DataType | null): other is T;\r\n    visitUint8                <T extends Uint8>                (type: T, other?: DataType | null): other is T;\r\n    visitUint16               <T extends Uint16>               (type: T, other?: DataType | null): other is T;\r\n    visitUint32               <T extends Uint32>               (type: T, other?: DataType | null): other is T;\r\n    visitUint64               <T extends Uint64>               (type: T, other?: DataType | null): other is T;\r\n    visitFloat                <T extends Float>                (type: T, other?: DataType | null): other is T;\r\n    visitFloat16              <T extends Float16>              (type: T, other?: DataType | null): other is T;\r\n    visitFloat32              <T extends Float32>              (type: T, other?: DataType | null): other is T;\r\n    visitFloat64              <T extends Float64>              (type: T, other?: DataType | null): other is T;\r\n    visitUtf8                 <T extends Utf8>                 (type: T, other?: DataType | null): other is T;\r\n    visitBinary               <T extends Binary>               (type: T, other?: DataType | null): other is T;\r\n    visitFixedSizeBinary      <T extends FixedSizeBinary>      (type: T, other?: DataType | null): other is T;\r\n    visitDate                 <T extends Date_>                (type: T, other?: DataType | null): other is T;\r\n    visitDateDay              <T extends DateDay>              (type: T, other?: DataType | null): other is T;\r\n    visitDateMillisecond      <T extends DateMillisecond>      (type: T, other?: DataType | null): other is T;\r\n    visitTimestamp            <T extends Timestamp>            (type: T, other?: DataType | null): other is T;\r\n    visitTimestampSecond      <T extends TimestampSecond>      (type: T, other?: DataType | null): other is T;\r\n    visitTimestampMillisecond <T extends TimestampMillisecond> (type: T, other?: DataType | null): other is T;\r\n    visitTimestampMicrosecond <T extends TimestampMicrosecond> (type: T, other?: DataType | null): other is T;\r\n    visitTimestampNanosecond  <T extends TimestampNanosecond>  (type: T, other?: DataType | null): other is T;\r\n    visitTime                 <T extends Time>                 (type: T, other?: DataType | null): other is T;\r\n    visitTimeSecond           <T extends TimeSecond>           (type: T, other?: DataType | null): other is T;\r\n    visitTimeMillisecond      <T extends TimeMillisecond>      (type: T, other?: DataType | null): other is T;\r\n    visitTimeMicrosecond      <T extends TimeMicrosecond>      (type: T, other?: DataType | null): other is T;\r\n    visitTimeNanosecond       <T extends TimeNanosecond>       (type: T, other?: DataType | null): other is T;\r\n    visitDecimal              <T extends Decimal>              (type: T, other?: DataType | null): other is T;\r\n    visitList                 <T extends List>                 (type: T, other?: DataType | null): other is T;\r\n    visitStruct               <T extends Struct>               (type: T, other?: DataType | null): other is T;\r\n    visitUnion                <T extends Union>                (type: T, other?: DataType | null): other is T;\r\n    visitDenseUnion           <T extends DenseUnion>           (type: T, other?: DataType | null): other is T;\r\n    visitSparseUnion          <T extends SparseUnion>          (type: T, other?: DataType | null): other is T;\r\n    visitDictionary           <T extends Dictionary>           (type: T, other?: DataType | null): other is T;\r\n    visitInterval             <T extends Interval>             (type: T, other?: DataType | null): other is T;\r\n    visitIntervalDayTime      <T extends IntervalDayTime>      (type: T, other?: DataType | null): other is T;\r\n    visitIntervalYearMonth    <T extends IntervalYearMonth>    (type: T, other?: DataType | null): other is T;\r\n    visitFixedSizeList        <T extends FixedSizeList>        (type: T, other?: DataType | null): other is T;\r\n    visitMap                  <T extends Map_>                 (type: T, other?: DataType | null): other is T;\r\n}\r\n\r\n/** @ignore */\r\nexport class TypeComparator extends Visitor {\r\n    compareSchemas<T extends { [key: string]: DataType }>(schema: Schema<T>, other?: Schema | null): other is Schema<T> {\r\n        return (schema === other) || (\r\n            other instanceof schema.constructor &&\r\n            instance.compareFields(schema.fields, other.fields)\r\n        );\r\n    }\r\n    compareFields<T extends { [key: string]: DataType }>(fields: Field<T[keyof T]>[], others?: Field[] | null): others is Field<T[keyof T]>[] {\r\n        return (fields === others) || (\r\n            Array.isArray(fields) &&\r\n            Array.isArray(others) &&\r\n            fields.length === others.length &&\r\n            fields.every((f, i) => instance.compareField(f, others[i]))\r\n        );\r\n    }\r\n    compareField<T extends DataType = any>(field: Field<T>, other?: Field | null): other is Field<T> {\r\n        return (field === other) || (\r\n            other instanceof field.constructor &&\r\n            field.name === other.name &&\r\n            field.nullable === other.nullable &&\r\n            instance.visit(field.type, other.type)\r\n        );\r\n    }\r\n}\r\n\r\nfunction compareConstructor<T extends DataType>(type: T, other?: DataType | null): other is T {\r\n    return other instanceof type.constructor;\r\n}\r\n\r\nfunction compareAny<T extends DataType>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || compareConstructor(type, other);\r\n}\r\n\r\nfunction compareInt<T extends Int>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.bitWidth === other.bitWidth &&\r\n        type.isSigned === other.isSigned\r\n    );\r\n}\r\n\r\nfunction compareFloat<T extends Float>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.precision === other.precision\r\n    );\r\n}\r\n\r\nfunction compareFixedSizeBinary<T extends FixedSizeBinary>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.byteWidth === other.byteWidth\r\n    );\r\n}\r\n\r\nfunction compareDate<T extends Date_>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.unit === other.unit\r\n    );\r\n}\r\n\r\nfunction compareTimestamp<T extends Timestamp>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.unit === other.unit &&\r\n        type.timezone === other.timezone\r\n    );\r\n}\r\n\r\nfunction compareTime<T extends Time>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.unit === other.unit &&\r\n        type.bitWidth === other.bitWidth\r\n    );\r\n}\r\n\r\nfunction compareList<T extends List>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.children.length === other.children.length &&\r\n        instance.compareFields(type.children, other.children)\r\n    );\r\n}\r\n\r\nfunction compareStruct<T extends Struct>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.children.length === other.children.length &&\r\n        instance.compareFields(type.children, other.children)\r\n    );\r\n}\r\n\r\nfunction compareUnion<T extends Union>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.mode === other.mode &&\r\n        type.typeIds.every((x, i) => x === other.typeIds[i]) &&\r\n        instance.compareFields(type.children, other.children)\r\n    );\r\n}\r\n\r\nfunction compareDictionary<T extends Dictionary>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.id === other.id &&\r\n        type.isOrdered === other.isOrdered &&\r\n        instance.visit(<any> type.indices, other.indices) &&\r\n        instance.visit(type.dictionary, other.dictionary)\r\n    );\r\n}\r\n\r\nfunction compareInterval<T extends Interval>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.unit === other.unit\r\n    );\r\n}\r\n\r\nfunction compareFixedSizeList<T extends FixedSizeList>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.listSize === other.listSize &&\r\n        type.children.length === other.children.length &&\r\n        instance.compareFields(type.children, other.children)\r\n    );\r\n}\r\n\r\nfunction compareMap<T extends Map_>(type: T, other?: DataType | null): other is T {\r\n    return (type === other) || (\r\n        compareConstructor(type, other) &&\r\n        type.keysSorted === other.keysSorted &&\r\n        type.children.length === other.children.length &&\r\n        instance.compareFields(type.children, other.children)\r\n    );\r\n}\r\n\r\nTypeComparator.prototype.visitNull                 =             compareAny;\r\nTypeComparator.prototype.visitBool                 =             compareAny;\r\nTypeComparator.prototype.visitInt                  =             compareInt;\r\nTypeComparator.prototype.visitInt8                 =             compareInt;\r\nTypeComparator.prototype.visitInt16                =             compareInt;\r\nTypeComparator.prototype.visitInt32                =             compareInt;\r\nTypeComparator.prototype.visitInt64                =             compareInt;\r\nTypeComparator.prototype.visitUint8                =             compareInt;\r\nTypeComparator.prototype.visitUint16               =             compareInt;\r\nTypeComparator.prototype.visitUint32               =             compareInt;\r\nTypeComparator.prototype.visitUint64               =             compareInt;\r\nTypeComparator.prototype.visitFloat                =           compareFloat;\r\nTypeComparator.prototype.visitFloat16              =           compareFloat;\r\nTypeComparator.prototype.visitFloat32              =           compareFloat;\r\nTypeComparator.prototype.visitFloat64              =           compareFloat;\r\nTypeComparator.prototype.visitUtf8                 =             compareAny;\r\nTypeComparator.prototype.visitBinary               =             compareAny;\r\nTypeComparator.prototype.visitFixedSizeBinary      = compareFixedSizeBinary;\r\nTypeComparator.prototype.visitDate                 =            compareDate;\r\nTypeComparator.prototype.visitDateDay              =            compareDate;\r\nTypeComparator.prototype.visitDateMillisecond      =            compareDate;\r\nTypeComparator.prototype.visitTimestamp            =       compareTimestamp;\r\nTypeComparator.prototype.visitTimestampSecond      =       compareTimestamp;\r\nTypeComparator.prototype.visitTimestampMillisecond =       compareTimestamp;\r\nTypeComparator.prototype.visitTimestampMicrosecond =       compareTimestamp;\r\nTypeComparator.prototype.visitTimestampNanosecond  =       compareTimestamp;\r\nTypeComparator.prototype.visitTime                 =            compareTime;\r\nTypeComparator.prototype.visitTimeSecond           =            compareTime;\r\nTypeComparator.prototype.visitTimeMillisecond      =            compareTime;\r\nTypeComparator.prototype.visitTimeMicrosecond      =            compareTime;\r\nTypeComparator.prototype.visitTimeNanosecond       =            compareTime;\r\nTypeComparator.prototype.visitDecimal              =             compareAny;\r\nTypeComparator.prototype.visitList                 =            compareList;\r\nTypeComparator.prototype.visitStruct               =          compareStruct;\r\nTypeComparator.prototype.visitUnion                =           compareUnion;\r\nTypeComparator.prototype.visitDenseUnion           =           compareUnion;\r\nTypeComparator.prototype.visitSparseUnion          =           compareUnion;\r\nTypeComparator.prototype.visitDictionary           =      compareDictionary;\r\nTypeComparator.prototype.visitInterval             =        compareInterval;\r\nTypeComparator.prototype.visitIntervalDayTime      =        compareInterval;\r\nTypeComparator.prototype.visitIntervalYearMonth    =        compareInterval;\r\nTypeComparator.prototype.visitFixedSizeList        =   compareFixedSizeList;\r\nTypeComparator.prototype.visitMap                  =             compareMap;\r\n\r\n/** @ignore */\r\nexport const instance = new TypeComparator();\r\n"]}